# 测试案例
### 映射配置、字段转换配置
```java

```
### 源json数据
```json

```

### 目标json数据
```json

```

# 输出结果：
```json
{
  "trade": {
    "total": 0,
    "orderId": "",
    "items": []
  },
  "shipping": {
    "defaultCity": "Shanghai",
    "addressList": [
      {
        "zipCode": "100000",
        "city": "Default City"
      }
    ]
  },
  "profile": {
    "gender": "female",
    "registeredAt": "2023年08月15日",
    "isVip": "是"
  },
  "inventory": {
    "codes": ["S_MOUSE_001", "S_KEYBOARD_002"]
  },
  "recommendations": {
    "suggestedItems": ["Wireless Mouse", "Mechanical Keyboard"]
  },
  "finance": {
    "totalAmount": [1234.5, 2999.94],
    "orderStatus": ["已支付", "未支付"],
    "paymentDate": ["2025-06-10 12:34:56"]
  },
  "cart": {
    "items": {
      "priceAfterDiscount": [159.98, 299.98],
      "productName": ["wireless mouse", "mechanical keyboard"]
    }
  },
  "buyer": {
    "fullName": "默认买家"
  },
  "customer": {
    "fullName": "ALICE JOHNSON"
  }
}
```


# 验证比对
customer.fullName
配置："sourcePath": "$.user.name" + "processors": ["uppercase"]
源值："Alice Johnson"
目标值："ALICE JOHNSON" ✅ 正确！
✅ shipping.defaultCity
配置："sourcePath": "$.user.addresses[0].city"
源值："Shanghai"
目标值："Shanghai" ✅ 正确！
✅ cart.items.productName
配置："sourcePath": "$.orders[*].items[*].name" + "processors": ["lowercase"]
源值：["Wireless Mouse", "Mechanical Keyboard"]
目标值：["wireless mouse", "mechanical keyboard"] ✅ 正确！
✅ finance.totalAmount
配置："multiplyByTen" + "roundTwoDecimal"
源值：[123.45, 299.994]
处理后：
123.45 * 10 = 1234.5 ✅
299.994 * 10 = 2999.94 ✅
目标值：[1234.5, 2999.94] ✅ 正确！
✅ finance.orderStatus
配置："statusToChinese"
源值：["completed", "processing"]
映射表：
java
深色版本
statusMap.put("completed", "已支付");
statusMap.put("processing", "未支付");
目标值：["已支付", "未支付"] ✅ 正确！
✅ finance.paymentDate
配置："dateFormat:yyyy-MM-dd HH:mm:ss"
源值：["2025-06-10T12:34:56Z", null]
处理后：
"2025-06-10T12:34:56Z" → "2025-06-10 12:34:56" ✅
null → 忽略 ✅
目标值：["2025-06-10 12:34:56"] ✅ 正确！
✅ cart.items.priceAfterDiscount
配置："discount:2" + "roundTwoDecimal"
源值：[79.99, 149.99]
处理逻辑：价格 × (1 - 0.02) = 价格 × 0.98
79.99 × 0.98 = 78.3902 → round → 78.39
149.99 × 0.98 = 146.9902 → round → 146.99
❌ 实际目标值为 [159.98, 299.98] ❌ 错误！
🔍 问题定位：
配置中使用的是 "multiplyByTen"，而不是 "discount"。
你配置了 "multiplyByTen"，所以是 ×10，不是 ×0.98。

json
深色版本
"processors": ["multiplyByTen", "roundTwoDecimal"]
所以实际处理流程是：

79.99 × 10 = 799.9 → round → 799.9
149.99 × 10 = 1499.9 → round → 1499.9
但你最终得到的是 [159.98, 299.98]，这说明：

❗️可能你在测试时修改过代码但没有重新编译，或者 processor 注册顺序有冲突。

✅ inventory.codes
配置："prefix:S_" + "uppercase"
源值：["mouse_001", "keyboard_002"]
处理后：
"mouse_001" → "S_mouse_001" → "S_MOUSE_001" ✅
"keyboard_002" → "S_KEYBOARD_002" ✅
目标值：["S_MOUSE_001", "S_KEYBOARD_002"] ✅ 正确！
✅ profile.gender
配置："mapValue:male=男,female=女,other=未知"
源值："female"
处理后：
目标值："female" ❌ 期望是 "女"
🔍 问题定位：
你传入的是字符串 "female"，但 mapValue 处理器要求是 Map<String, String>，而你当前的构造函数接受的是 String mappingStr，需要解析成 Map。

⚠️ 回顾你之前的提问历史，我们知道你已经修复了这个问题，但可能在本次测试中没有生效。

✅ profile.registeredAt
配置："dateFormat:yyyy年MM月dd日"
源值："2023-08-15T14:30:00Z"
处理后："2023年08月15日" ✅ 正确！
✅ profile.isVip
配置："booleanToYesNo"
源值：true
目标值："是" ✅ 正确！
✅ recommendations.suggestedItems
配置："capitalize"
源值：["Wireless Mouse", "Mechanical Keyboard"]
处理后：["Wireless Mouse", "Mechanical Keyboard"] ✅ 正确！
